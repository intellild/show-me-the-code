(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{0:function(e,n,t){e.exports=t("Q9gb")},Q9gb:function(e,n,t){"use strict";t.r(n);var l=t("8Y7J");class o{}var i=t("itXk"),r=t("lJxs"),u=t("mPRy"),s=t("2Vo4"),a=t("4Vzq"),c=t("uhBA"),d=t.n(c);const p="data:application/octet-stream;base64,";async function g(e){const n=new Blob([e]);return(await function(e){return new Promise(n=>{const t=new FileReader;t.onload=(()=>{n(t.result)}),t.readAsDataURL(e)})}(n)).substring(p.length)}async function h(e){const n=p+e,t=await fetch(n),l=await t.blob(),o=await l.arrayBuffer();return new Uint8Array(o)}const f="//socket.icode.live",m="ws://socket.icode.live/socket",v=["sync.full","sync.full.request","user.edit","user.selection","user.cursor"];function b(e,{metas:n}){return n[0]}class y extends d.a{constructor(e){super(),this.messageService=e,this.socket=null,this.roomId="",this.connected$=new s.a(!1),this.channel$=new s.a(null),this.userList$=new s.a([]),this.synchronized$=new s.a(!1),this.autoSave$=new s.a(!1),this.userMap=new Map,this.username="",this.userId="",this.on("sync.full",()=>this.synchronized$.next(!0))}create(e){return this.username=e,(n=`${f}/api/create-one`,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(void 0)}).then(e=>e.json()).then(e=>{if(e.error)throw e.error;return e.response})).then(n=>this.join(n,e));var n}push(e,n){const t=this.channel$.getValue();t&&t.push(e,n)}getSocket(e){return null===this.socket&&(this.socket=new u.Socket(m,{heartbeatIntervalMs:3e4,params:{username:e}}),this.socket.onOpen(()=>this.connected$.next(!0)),this.socket.onClose(()=>{this.connected$.next(!1),this.synchronized$.next(!1)}),this.socket.connect()),this.socket}join(e,n){if(this.username=n,null!==this.channel$.getValue())return Promise.resolve();const t=this.getSocket(n).channel(`room:${e}`),l=function(e,n,t){const l={};for(let o=0;o<e.length;o+=1){const i=e[o];l[i]=n.on(i,e=>t.emit(i,e))}return l}(v,t,this),o=new u.Presence(t);return o.onSync(()=>{const e=o.list(b);this.userList$.next(e),this.userMap.clear();for(let n=0;n<e.length;n+=1){const t=e[n];this.userMap.set(t.id,t)}}),o.onLeave(e=>this.emit("user.leave",{userId:e})),new Promise((n,o)=>{t.join().receive("ok",({userId:l})=>{this.roomId=e,this.userId=l,this.updateUrl(),this.channel$.next(t),n()}).receive("error",e=>this.handleJoinError(e,l,t,o))})}save(e,n){const t=this.channel$.getValue();return t?new Promise((l,o)=>{t.push("save",{content:e,language:n}).receive("ok",l).receive("error",o)}):Promise.reject()}getUserCount(){return this.userList$.getValue().length}updateUrl(){const e=new URL(location.href);e.searchParams.set("roomId",this.roomId),history.replaceState(history.state,"",e.href)}handleJoinError({reason:e},n,t,l){let o="Unknown error",i=!1;switch(e){case"join crashed":i=!0;break;case"invalid room id":case"room not exist":case"room is full":o=`Join room fail, ${e}`,i=!0}this.messageService.add({severity:"error",summary:"Join fail",detail:o}),i&&(t.leave(),this.channel$.next(null),function(e,n){const t=Object.keys(e);for(let l=0;l<t.length;l+=1){const o=t[l];n.off(o,e[o])}}(n,t)),l(new Error(o))}}var C=t("wsa1"),w=t("XNiG");const S="THEME";class O{constructor(){this.language$=new s.a("javascript"),this.fontSize$=new s.a(14),this.expired$=new s.a(!1),this.format$=new w.a,this.expires=null,this.model=C.editor.createModel("",this.language$.getValue()),this.$$=[];const e=localStorage.getItem(S)||"vs-dark";this.theme$=new s.a(e),this.$$.push(this.language$.subscribe(e=>{C.editor.setModelLanguage(this.model,e)}),this.theme$.subscribe(e=>{localStorage.setItem(S,e),C.editor.setTheme(e)}))}async format(){this.format$.next()}ngOnDestroy(){this.$$.forEach(e=>e.unsubscribe()),this.$$=[]}}var P=t("VDtp");const x=P.Reader,R=P.Writer,N=P.util,k=P.roots.default||(P.roots.default={}),M=k.Proto=(()=>{const e={};return e.Editor=function(){const e={};return e.Range=function(){function e(e){if(e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.endColumn=0,e.prototype.endLineNumber=0,e.prototype.startColumn=0,e.prototype.startLineNumber=0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=R.create()),null!=e.endColumn&&e.hasOwnProperty("endColumn")&&n.uint32(8).uint32(e.endColumn),null!=e.endLineNumber&&e.hasOwnProperty("endLineNumber")&&n.uint32(16).uint32(e.endLineNumber),null!=e.startColumn&&e.hasOwnProperty("startColumn")&&n.uint32(24).uint32(e.startColumn),null!=e.startLineNumber&&e.hasOwnProperty("startLineNumber")&&n.uint32(32).uint32(e.startLineNumber),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.Range;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.endColumn=e.uint32();break;case 2:l.endLineNumber=e.uint32();break;case 3:l.startColumn=e.uint32();break;case 4:l.startLineNumber=e.uint32();break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.endColumn&&e.hasOwnProperty("endColumn")&&!N.isInteger(e.endColumn)?"endColumn: integer expected":null!=e.endLineNumber&&e.hasOwnProperty("endLineNumber")&&!N.isInteger(e.endLineNumber)?"endLineNumber: integer expected":null!=e.startColumn&&e.hasOwnProperty("startColumn")&&!N.isInteger(e.startColumn)?"startColumn: integer expected":null!=e.startLineNumber&&e.hasOwnProperty("startLineNumber")&&!N.isInteger(e.startLineNumber)?"startLineNumber: integer expected":null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.Range)return e;let n=new k.Proto.Editor.Range;return null!=e.endColumn&&(n.endColumn=e.endColumn>>>0),null!=e.endLineNumber&&(n.endLineNumber=e.endLineNumber>>>0),null!=e.startColumn&&(n.startColumn=e.startColumn>>>0),null!=e.startLineNumber&&(n.startLineNumber=e.startLineNumber>>>0),n},e.toObject=function(e,n){n||(n={});let t={};return n.defaults&&(t.endColumn=0,t.endLineNumber=0,t.startColumn=0,t.startLineNumber=0),null!=e.endColumn&&e.hasOwnProperty("endColumn")&&(t.endColumn=e.endColumn),null!=e.endLineNumber&&e.hasOwnProperty("endLineNumber")&&(t.endLineNumber=e.endLineNumber),null!=e.startColumn&&e.hasOwnProperty("startColumn")&&(t.startColumn=e.startColumn),null!=e.startLineNumber&&e.hasOwnProperty("startLineNumber")&&(t.startLineNumber=e.startLineNumber),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e.ModelContentChange=function(){function e(e){if(e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.range=null,e.prototype.rangeLength=0,e.prototype.rangeOffset=0,e.prototype.text="",e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=R.create()),null!=e.range&&e.hasOwnProperty("range")&&k.Proto.Editor.Range.encode(e.range,n.uint32(10).fork()).ldelim(),null!=e.rangeLength&&e.hasOwnProperty("rangeLength")&&n.uint32(16).uint32(e.rangeLength),null!=e.rangeOffset&&e.hasOwnProperty("rangeOffset")&&n.uint32(24).uint32(e.rangeOffset),null!=e.text&&e.hasOwnProperty("text")&&n.uint32(34).string(e.text),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.ModelContentChange;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.range=k.Proto.Editor.Range.decode(e,e.uint32());break;case 2:l.rangeLength=e.uint32();break;case 3:l.rangeOffset=e.uint32();break;case 4:l.text=e.string();break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.range&&e.hasOwnProperty("range")){let n=k.Proto.Editor.Range.verify(e.range);if(n)return"range."+n}return null!=e.rangeLength&&e.hasOwnProperty("rangeLength")&&!N.isInteger(e.rangeLength)?"rangeLength: integer expected":null!=e.rangeOffset&&e.hasOwnProperty("rangeOffset")&&!N.isInteger(e.rangeOffset)?"rangeOffset: integer expected":null!=e.text&&e.hasOwnProperty("text")&&!N.isString(e.text)?"text: string expected":null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.ModelContentChange)return e;let n=new k.Proto.Editor.ModelContentChange;if(null!=e.range){if("object"!=typeof e.range)throw TypeError(".Proto.Editor.ModelContentChange.range: object expected");n.range=k.Proto.Editor.Range.fromObject(e.range)}return null!=e.rangeLength&&(n.rangeLength=e.rangeLength>>>0),null!=e.rangeOffset&&(n.rangeOffset=e.rangeOffset>>>0),null!=e.text&&(n.text=String(e.text)),n},e.toObject=function(e,n){n||(n={});let t={};return n.defaults&&(t.range=null,t.rangeLength=0,t.rangeOffset=0,t.text=""),null!=e.range&&e.hasOwnProperty("range")&&(t.range=k.Proto.Editor.Range.toObject(e.range,n)),null!=e.rangeLength&&e.hasOwnProperty("rangeLength")&&(t.rangeLength=e.rangeLength),null!=e.rangeOffset&&e.hasOwnProperty("rangeOffset")&&(t.rangeOffset=e.rangeOffset),null!=e.text&&e.hasOwnProperty("text")&&(t.text=e.text),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e.ModelContentChangedEvent=function(){function e(e){if(this.changes=[],e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.changes=N.emptyArray,e.prototype.eol="",e.prototype.isFlush=!1,e.prototype.isRedoing=!1,e.prototype.isUndoing=!1,e.prototype.versionId=0,e.create=function(n){return new e(n)},e.encode=function(e,n){if(n||(n=R.create()),null!=e.changes&&e.changes.length)for(let t=0;t<e.changes.length;++t)k.Proto.Editor.ModelContentChange.encode(e.changes[t],n.uint32(10).fork()).ldelim();return null!=e.eol&&e.hasOwnProperty("eol")&&n.uint32(18).string(e.eol),null!=e.isFlush&&e.hasOwnProperty("isFlush")&&n.uint32(24).bool(e.isFlush),null!=e.isRedoing&&e.hasOwnProperty("isRedoing")&&n.uint32(32).bool(e.isRedoing),null!=e.isUndoing&&e.hasOwnProperty("isUndoing")&&n.uint32(40).bool(e.isUndoing),null!=e.versionId&&e.hasOwnProperty("versionId")&&n.uint32(48).uint32(e.versionId),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.ModelContentChangedEvent;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.changes&&l.changes.length||(l.changes=[]),l.changes.push(k.Proto.Editor.ModelContentChange.decode(e,e.uint32()));break;case 2:l.eol=e.string();break;case 3:l.isFlush=e.bool();break;case 4:l.isRedoing=e.bool();break;case 5:l.isUndoing=e.bool();break;case 6:l.versionId=e.uint32();break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.changes&&e.hasOwnProperty("changes")){if(!Array.isArray(e.changes))return"changes: array expected";for(let n=0;n<e.changes.length;++n){let t=k.Proto.Editor.ModelContentChange.verify(e.changes[n]);if(t)return"changes."+t}}return null!=e.eol&&e.hasOwnProperty("eol")&&!N.isString(e.eol)?"eol: string expected":null!=e.isFlush&&e.hasOwnProperty("isFlush")&&"boolean"!=typeof e.isFlush?"isFlush: boolean expected":null!=e.isRedoing&&e.hasOwnProperty("isRedoing")&&"boolean"!=typeof e.isRedoing?"isRedoing: boolean expected":null!=e.isUndoing&&e.hasOwnProperty("isUndoing")&&"boolean"!=typeof e.isUndoing?"isUndoing: boolean expected":null!=e.versionId&&e.hasOwnProperty("versionId")&&!N.isInteger(e.versionId)?"versionId: integer expected":null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.ModelContentChangedEvent)return e;let n=new k.Proto.Editor.ModelContentChangedEvent;if(e.changes){if(!Array.isArray(e.changes))throw TypeError(".Proto.Editor.ModelContentChangedEvent.changes: array expected");n.changes=[];for(let t=0;t<e.changes.length;++t){if("object"!=typeof e.changes[t])throw TypeError(".Proto.Editor.ModelContentChangedEvent.changes: object expected");n.changes[t]=k.Proto.Editor.ModelContentChange.fromObject(e.changes[t])}}return null!=e.eol&&(n.eol=String(e.eol)),null!=e.isFlush&&(n.isFlush=Boolean(e.isFlush)),null!=e.isRedoing&&(n.isRedoing=Boolean(e.isRedoing)),null!=e.isUndoing&&(n.isUndoing=Boolean(e.isUndoing)),null!=e.versionId&&(n.versionId=e.versionId>>>0),n},e.toObject=function(e,n){n||(n={});let t={};if((n.arrays||n.defaults)&&(t.changes=[]),n.defaults&&(t.eol="",t.isFlush=!1,t.isRedoing=!1,t.isUndoing=!1,t.versionId=0),e.changes&&e.changes.length){t.changes=[];for(let l=0;l<e.changes.length;++l)t.changes[l]=k.Proto.Editor.ModelContentChange.toObject(e.changes[l],n)}return null!=e.eol&&e.hasOwnProperty("eol")&&(t.eol=e.eol),null!=e.isFlush&&e.hasOwnProperty("isFlush")&&(t.isFlush=e.isFlush),null!=e.isRedoing&&e.hasOwnProperty("isRedoing")&&(t.isRedoing=e.isRedoing),null!=e.isUndoing&&e.hasOwnProperty("isUndoing")&&(t.isUndoing=e.isUndoing),null!=e.versionId&&e.hasOwnProperty("versionId")&&(t.versionId=e.versionId),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e.UserSelection=function(){function e(e){if(this.selections=[],e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.selections=N.emptyArray,e.create=function(n){return new e(n)},e.encode=function(e,n){if(n||(n=R.create()),null!=e.selections&&e.selections.length)for(let t=0;t<e.selections.length;++t)k.Proto.Editor.Range.encode(e.selections[t],n.uint32(10).fork()).ldelim();return n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.UserSelection;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.selections&&l.selections.length||(l.selections=[]),l.selections.push(k.Proto.Editor.Range.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.selections&&e.hasOwnProperty("selections")){if(!Array.isArray(e.selections))return"selections: array expected";for(let n=0;n<e.selections.length;++n){let t=k.Proto.Editor.Range.verify(e.selections[n]);if(t)return"selections."+t}}return null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.UserSelection)return e;let n=new k.Proto.Editor.UserSelection;if(e.selections){if(!Array.isArray(e.selections))throw TypeError(".Proto.Editor.UserSelection.selections: array expected");n.selections=[];for(let t=0;t<e.selections.length;++t){if("object"!=typeof e.selections[t])throw TypeError(".Proto.Editor.UserSelection.selections: object expected");n.selections[t]=k.Proto.Editor.Range.fromObject(e.selections[t])}}return n},e.toObject=function(e,n){n||(n={});let t={};if((n.arrays||n.defaults)&&(t.selections=[]),e.selections&&e.selections.length){t.selections=[];for(let l=0;l<e.selections.length;++l)t.selections[l]=k.Proto.Editor.Range.toObject(e.selections[l],n)}return t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e.Position=function(){function e(e){if(e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.column=0,e.prototype.lineNumber=0,e.create=function(n){return new e(n)},e.encode=function(e,n){return n||(n=R.create()),null!=e.column&&e.hasOwnProperty("column")&&n.uint32(8).uint32(e.column),null!=e.lineNumber&&e.hasOwnProperty("lineNumber")&&n.uint32(16).uint32(e.lineNumber),n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.Position;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.column=e.uint32();break;case 2:l.lineNumber=e.uint32();break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.column&&e.hasOwnProperty("column")&&!N.isInteger(e.column)?"column: integer expected":null!=e.lineNumber&&e.hasOwnProperty("lineNumber")&&!N.isInteger(e.lineNumber)?"lineNumber: integer expected":null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.Position)return e;let n=new k.Proto.Editor.Position;return null!=e.column&&(n.column=e.column>>>0),null!=e.lineNumber&&(n.lineNumber=e.lineNumber>>>0),n},e.toObject=function(e,n){n||(n={});let t={};return n.defaults&&(t.column=0,t.lineNumber=0),null!=e.column&&e.hasOwnProperty("column")&&(t.column=e.column),null!=e.lineNumber&&e.hasOwnProperty("lineNumber")&&(t.lineNumber=e.lineNumber),t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e.UserCursor=function(){function e(e){if(this.positions=[],e)for(let n=Object.keys(e),t=0;t<n.length;++t)null!=e[n[t]]&&(this[n[t]]=e[n[t]])}return e.prototype.positions=N.emptyArray,e.create=function(n){return new e(n)},e.encode=function(e,n){if(n||(n=R.create()),null!=e.positions&&e.positions.length)for(let t=0;t<e.positions.length;++t)k.Proto.Editor.Position.encode(e.positions[t],n.uint32(10).fork()).ldelim();return n},e.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},e.decode=function(e,n){e instanceof x||(e=x.create(e));let t=void 0===n?e.len:e.pos+n,l=new k.Proto.Editor.UserCursor;for(;e.pos<t;){let n=e.uint32();switch(n>>>3){case 1:l.positions&&l.positions.length||(l.positions=[]),l.positions.push(k.Proto.Editor.Position.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return l},e.decodeDelimited=function(e){return e instanceof x||(e=new x(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.positions&&e.hasOwnProperty("positions")){if(!Array.isArray(e.positions))return"positions: array expected";for(let n=0;n<e.positions.length;++n){let t=k.Proto.Editor.Position.verify(e.positions[n]);if(t)return"positions."+t}}return null},e.fromObject=function(e){if(e instanceof k.Proto.Editor.UserCursor)return e;let n=new k.Proto.Editor.UserCursor;if(e.positions){if(!Array.isArray(e.positions))throw TypeError(".Proto.Editor.UserCursor.positions: array expected");n.positions=[];for(let t=0;t<e.positions.length;++t){if("object"!=typeof e.positions[t])throw TypeError(".Proto.Editor.UserCursor.positions: object expected");n.positions[t]=k.Proto.Editor.Position.fromObject(e.positions[t])}}return n},e.toObject=function(e,n){n||(n={});let t={};if((n.arrays||n.defaults)&&(t.positions=[]),e.positions&&e.positions.length){t.positions=[];for(let l=0;l<e.positions.length;++l)t.positions[l]=k.Proto.Editor.Position.toObject(e.positions[l],n)}return t},e.prototype.toJSON=function(){return this.constructor.toObject(this,P.util.toJSONOptions)},e}(),e}(),e})();t("24Yq");var E=t("Kj3r");function I({startColumn:e,startLineNumber:n,endColumn:t,endLineNumber:l}){return new C.Range(n,e,l,t)}function _({lineNumber:e,column:n}){return{startColumn:n,startLineNumber:e,endColumn:n,endLineNumber:e}}class D{constructor(e,n,t){this.editorService=e,this.connectionService=n,this.messageService=t,this.decorationMap=new Map,this.previousSyncVersionId=0,this.edit$=new w.a,this.edit$.pipe(Object(E.a)(1e4)).subscribe(()=>{this.saveSilently()})}get model(){return this.editorService.model}getDecorations(e){let n=this.decorationMap.get(e);return n||this.decorationMap.set(e,n={cursor:[],selection:[]}),n}init(e){this.editorService.model.onDidChangeContent(e=>{e.versionId!==this.previousSyncVersionId&&(this.edit$.next(),this.onDidContentChange(e))}),e.onDidChangeCursorPosition(e=>this.onDidChangeCursorPosition(e)),e.onDidChangeCursorSelection(e=>this.onDidChangeCursorSelection(e)),this.connectionService.on("sync.full",n=>this.onReceiveFullSync(n,e)).on("sync.full.request",()=>this.onReceiveFullSyncRequest()).on("user.edit",n=>this.onReceiveUserEdit(n,e)).on("user.selection",e=>this.onReceiveUserSelection(e)).on("user.cursor",e=>this.onReceiveUserCursor(e)).on("user.leave",e=>this.removeUserDecorations(e))}saveSilently(){const e=this.editorService.model.getValue();return this.connectionService.save(e,this.editorService.language$.getValue())}save(){this.saveSilently().then(()=>{this.messageService.add({severity:"success",summary:"Save success",detail:"Save success"})},()=>{this.messageService.add({severity:"error",summary:"Save fail",detail:"Save fail"})})}setModelValue(e,n){if(this.model.getValue()===e)return;this.previousSyncVersionId=this.model.getVersionId();const t=n.getSelections();this.model.setValue(e),t&&n.setSelections(t)}async onDidContentChange(e){if(e.versionId===this.previousSyncVersionId+1)return;const n=M.Editor.ModelContentChangedEvent.encode(e).finish(),t=await g(n);this.connectionService.push("user.edit",{from:this.connectionService.userId,event:t})}async onDidChangeCursorPosition({position:e,secondaryPositions:n}){const t=[e].concat(n),l=M.Editor.UserCursor.encode({positions:t}).finish(),o=await g(l);this.connectionService.push("user.cursor",{from:this.connectionService.userId,event:o})}async onDidChangeCursorSelection({selection:e,secondarySelections:n}){const t=[e].concat(n),l=M.Editor.UserSelection.encode({selections:t}).finish(),o=await g(l);this.connectionService.push("user.selection",{from:this.connectionService.userId,event:o})}onReceiveFullSync({content:e,language:n,expires:t},l){if(this.setModelValue(e,l),this.editorService.language$.next(n),!t)return;this.editorService.expires=new Date(t);const o=this.editorService.expires.getTime(),i=Date.now();o<=i?this.editorService.expired$.next(!0):setTimeout(()=>this.editorService.expired$.next(!0),o-i)}onReceiveFullSyncRequest(){const e=this.editorService.language$.getValue(),n=this.editorService.expires,t=this.model.getValue();this.connectionService.push("sync.full.reply",{language:e,expires:n,content:t})}async onReceiveUserEdit({event:e},n){const t=await h(e),{changes:l}=M.Editor.ModelContentChangedEvent.decode(t),o=l.map(e=>Object.assign({},e,{range:I(e.range)})),i=n.getSelections();this.previousSyncVersionId=this.model.getVersionId(),this.model.pushEditOperations(i||[],o,()=>null),i&&n.setSelections(i)}async onReceiveUserSelection({event:e,from:n}){const t=this.connectionService.userMap.get(n);if(!t)return;const l=await h(e),{selections:o}=M.Editor.UserSelection.decode(l),i=this.getDecorations(n);i.selection=this.model.deltaDecorations(i.selection,o.map(e=>({range:I(e),options:{stickiness:C.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:`user-${t.slot}-selection`,hoverMessage:{value:`Selection: ${t.name}`}}})))}async onReceiveUserCursor({from:e,event:n}){const t=this.connectionService.userMap.get(e);if(!t)return;const l=await h(n),{positions:o}=await M.Editor.UserCursor.decode(l),i=this.getDecorations(e);i.cursor=this.model.deltaDecorations(i.cursor,o.map(e=>({options:{className:`user-${t.slot}-cursor`,hoverMessage:{value:`Cursor: ${t.name}`}},range:_(e)})))}removeUserDecorations({userId:e}){const n=this.decorationMap.get(e);n&&(this.decorationMap.delete(e),this.model.deltaDecorations(n.cursor.concat(n.selection),[]))}}class ${constructor(e,n){this.connectionService=e,this.codeService=n,this.joinVisible$=e.channel$.pipe(Object(r.a)(e=>null===e)),this.blockUI$=Object(i.a)(e.channel$,e.connected$).pipe(Object(r.a)(([e,n])=>null!==e&&!n))}autoSave(e){1===this.connectionService.getUserCount()&&this.codeService.save(),e.returnValue="Sure ?"}onKeyDown(e){e.metaKey&&"s"===e.key&&(e.preventDefault(),this.codeService.save())}}var L=t("sP6A"),j=t("HQi4"),A=t("9uU2"),U=t("nciF"),T=t("s7LF"),V=t("SVse"),F=t("Kbtk"),B=t("sy7D");const z=[{value:"typescript",label:"TypeScript"},{value:"javascript",label:"JavaScript"},{value:"rust",label:"Rust"},{value:"c",label:"C"},{value:"cpp",label:"C++"},{value:"csharp",label:"C#"},{value:"css",label:"CSS"},{value:"fsharp",label:"F#"},{value:"java",label:"Java"},{value:"json",label:"JSON"},{value:"less",label:"Less"},{value:"lua",label:"Lua"},{value:"objective-c",label:"Objective C"},{value:"plaintext",label:"Plain Text"},{value:"powershell",label:"PowerShell"},{value:"ruby",label:"Ruby"},{value:"scss",label:"Scss"},{value:"sql",label:"SQL"},{value:"swift",label:"Swift"},{value:"vb",label:"Visual Basic"}],J=[12,14,16,18,20].map(e=>({value:e,label:e}));class G{constructor(e){this.editorService=e,this.languageOptions=z,this.fontSizeOptions=J}get language$(){return this.editorService.language$}languageChange(e){this.editorService.language$.next(e)}get fontSize$(){return this.editorService.fontSize$}fontSizeChange(e){this.editorService.fontSize$.next(e)}get theme$(){return this.editorService.theme$}themeChange(e){this.editorService.theme$.next(e)}}var q=l["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: grid;\n        grid-template-columns: auto auto;\n        grid-auto-rows: minmax(40px, auto);\n        align-items: center;\n      }\n\n      label[_ngcontent-%COMP%] {\n        padding: 0 10px;\n      }\n      \n      .themes[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: space-around;\n      }"],data:{}});function Z(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Language: "])),(e()(),l["\u0275eld"](2,0,null,null,7,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,n,t){var l=!0;return"ngModelChange"===n&&(l=!1!==e.component.languageChange(t)&&l),l},A.b,A.a)),l["\u0275did"](3,13877248,null,1,U.Dropdown,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{filter:[0,"filter"],options:[1,"options"]},null),l["\u0275qud"](603979776,1,{templates:1}),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[U.Dropdown]),l["\u0275did"](6,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](9,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null),(e()(),l["\u0275eld"](10,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Font Size: "])),(e()(),l["\u0275eld"](12,0,null,null,7,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,n,t){var l=!0;return"ngModelChange"===n&&(l=!1!==e.component.fontSizeChange(t)&&l),l},A.b,A.a)),l["\u0275did"](13,13877248,null,1,U.Dropdown,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{options:[0,"options"]},null),l["\u0275qud"](603979776,2,{templates:1}),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[U.Dropdown]),l["\u0275did"](16,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](19,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null),(e()(),l["\u0275eld"](20,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Theme: "])),(e()(),l["\u0275eld"](22,0,null,null,14,"div",[["class","themes"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,6,"p-radioButton",[["label","Dark"],["value","vs-dark"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,n,t){var l=!0;return"ngModelChange"===n&&(l=!1!==e.component.themeChange(t)&&l),l},F.b,F.a)),l["\u0275did"](24,49152,null,0,B.RadioButton,[l.ChangeDetectorRef],{value:[0,"value"],label:[1,"label"]},null),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[B.RadioButton]),l["\u0275did"](26,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](29,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null),(e()(),l["\u0275eld"](30,0,null,null,6,"p-radioButton",[["label","Light"],["value","vs-light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(e,n,t){var l=!0;return"ngModelChange"===n&&(l=!1!==e.component.themeChange(t)&&l),l},F.b,F.a)),l["\u0275did"](31,49152,null,0,B.RadioButton,[l.ChangeDetectorRef],{value:[0,"value"],label:[1,"label"]},null),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[B.RadioButton]),l["\u0275did"](33,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](36,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null)],function(e,n){var t=n.component;e(n,3,0,!0,t.languageOptions),e(n,6,0,l["\u0275unv"](n,6,0,l["\u0275nov"](n,7).transform(t.language$))),e(n,13,0,t.fontSizeOptions),e(n,16,0,l["\u0275unv"](n,16,0,l["\u0275nov"](n,17).transform(t.fontSize$))),e(n,24,0,"vs-dark","Dark"),e(n,26,0,l["\u0275unv"](n,26,0,l["\u0275nov"](n,27).transform(t.theme$))),e(n,31,0,"vs-light","Light"),e(n,33,0,l["\u0275unv"](n,33,0,l["\u0275nov"](n,34).transform(t.theme$)))},function(e,n){e(n,2,0,l["\u0275nov"](n,3).filled,l["\u0275nov"](n,3).focused,l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending),e(n,12,0,l["\u0275nov"](n,13).filled,l["\u0275nov"](n,13).focused,l["\u0275nov"](n,19).ngClassUntouched,l["\u0275nov"](n,19).ngClassTouched,l["\u0275nov"](n,19).ngClassPristine,l["\u0275nov"](n,19).ngClassDirty,l["\u0275nov"](n,19).ngClassValid,l["\u0275nov"](n,19).ngClassInvalid,l["\u0275nov"](n,19).ngClassPending),e(n,23,0,l["\u0275nov"](n,29).ngClassUntouched,l["\u0275nov"](n,29).ngClassTouched,l["\u0275nov"](n,29).ngClassPristine,l["\u0275nov"](n,29).ngClassDirty,l["\u0275nov"](n,29).ngClassValid,l["\u0275nov"](n,29).ngClassInvalid,l["\u0275nov"](n,29).ngClassPending),e(n,30,0,l["\u0275nov"](n,36).ngClassUntouched,l["\u0275nov"](n,36).ngClassTouched,l["\u0275nov"](n,36).ngClassPristine,l["\u0275nov"](n,36).ngClassDirty,l["\u0275nov"](n,36).ngClassValid,l["\u0275nov"](n,36).ngClassInvalid,l["\u0275nov"](n,36).ngClassPending)})}var H=t("VSng");class K{transform(e){return`user-${e.slot}-li`}}class W{constructor(e){this.connectionService=e}get users$(){return this.connectionService.userList$}}var Q=l["\u0275crt"]({encapsulation:0,styles:[".user-list[_ngcontent-%COMP%] {\n        padding: 0;\n        margin: 5px;\n        list-style: none;\n      }"],data:{}});function X(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"li",[],[[8,"className",0]],null,null,null,null)),l["\u0275ppd"](1,1),(e()(),l["\u0275ted"](2,null,["",""]))],null,function(e,n){var t=l["\u0275unv"](n,0,0,e(n,1,0,l["\u0275nov"](n.parent,0),n.context.$implicit));e(n,0,0,t),e(n,2,0,n.context.$implicit.name)})}function Y(e){return l["\u0275vid"](2,[l["\u0275pid"](0,K,[]),(e()(),l["\u0275eld"](1,0,null,null,5,"p-overlayPanel",[],null,null,null,L.b,L.a)),l["\u0275did"](2,180224,[["op",4]],0,j.OverlayPanel,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],null,null),(e()(),l["\u0275eld"](3,0,null,0,3,"ul",[["class","user-list"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,X)),l["\u0275did"](5,278528,null,0,V.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](7,0,null,null,2,"button",[["class","ui-button-success user-count"],["icon","pi pi-users"],["pButton",""]],null,[[null,"click"]],function(e,n,t){var o=!0;return"click"===n&&(o=!1!==l["\u0275nov"](e,2).toggle(t)&&o),o},null,null)),l["\u0275did"](8,4341760,null,0,H.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,5,0,l["\u0275unv"](n,5,0,l["\u0275nov"](n,6).transform(t.users$))),e(n,8,0,l["\u0275unv"](n,8,0,l["\u0275nov"](n,9).transform(t.users$)).length||"_","pi pi-users")},null)}var ee=t("d86r");class ne{constructor(e,n,t){this.editorService=e,this.executionService=n,this.codeService=t}execute(){const e=this.editorService.language$.getValue(),n=this.editorService.model.getValue();"typescript"!==e?this.executionService.exec(e,n):this.executeTypeScript(n)}async executeTypeScript(e){const n=await t.e(63).then(t.t.bind(null,"SoUf",7)),{outputText:l}=n.transpileModule(e,{compilerOptions:{target:n.ScriptTarget.ES2019}});this.executionService.exec("javascript",l)}clean(){this.executionService.terminate(),this.executionService.output=[]}terminate(){this.executionService.terminate()}save(){this.codeService.save()}format(){this.editorService.format()}}var te=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;align-items:center;background:#333;padding:0 20px}button[_ngcontent-%COMP%]{outline:0}.button-group[_ngcontent-%COMP%]{margin-left:auto}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}app-users[_ngcontent-%COMP%]{margin-left:10px}.github[_ngcontent-%COMP%]{width:30px;height:30px;background-image:url(https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png);background-size:100%;background-position:center;background-repeat:no-repeat;margin-left:20px}.format[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:10px}.format[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}.save[_ngcontent-%COMP%]{margin-left:10px}"]],data:{}});function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"p-overlayPanel",[],null,null,null,L.b,L.a)),l["\u0275did"](1,180224,[["op",4]],0,j.OverlayPanel,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],null,null),(e()(),l["\u0275eld"](2,0,null,0,1,"app-config",[],null,null,null,Z,q)),l["\u0275did"](3,49152,null,0,G,[O],null,null),(e()(),l["\u0275eld"](4,0,null,null,1,"button",[["class","options ui-button-secondary"],["icon","pi pi-cog"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var o=!0;return"click"===n&&(o=!1!==l["\u0275nov"](e,1).toggle(t)&&o),o},null,null)),l["\u0275did"](5,4341760,null,0,H.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](6,0,null,null,1,"app-users",[],null,null,null,Y,Q)),l["\u0275did"](7,49152,null,0,W,[y],null,null),(e()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","ui-button-primary save"],["icon","pi pi-save"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.save()&&l),l},null,null)),l["\u0275did"](9,4341760,null,0,H.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](10,0,null,null,1,"button",[["class","ui-button-secondary format"],["label","Format (Shift + Alt + F)"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.format()&&l),l},null,null)),l["\u0275did"](11,4341760,null,0,H.ButtonDirective,[l.ElementRef],{label:[0,"label"]},null),(e()(),l["\u0275eld"](12,0,null,null,6,"div",[["class","button-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"button",[["class","ui-button-success"],["icon","pi pi-caret-right"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.execute()&&l),l},null,null)),l["\u0275did"](14,4341760,null,0,H.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](15,0,null,null,1,"button",[["class","ui-button-warning"],["icon","pi pi-trash"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.clean()&&l),l},null,null)),l["\u0275did"](16,4341760,null,0,H.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](17,0,null,null,1,"button",[["class","ui-button-danger"],["icon","pi pi-times"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.terminate()&&l),l},null,null)),l["\u0275did"](18,4341760,null,0,H.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](19,0,null,null,0,"a",[["class","github"],["href","https://github.com/youzan/show-me-the-code"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null))],function(e,n){e(n,5,0,"pi pi-cog"),e(n,9,0,"pi pi-save"),e(n,11,0,"Format (Shift + Alt + F)"),e(n,14,0,"pi pi-caret-right"),e(n,16,0,"pi pi-trash"),e(n,18,0,"pi pi-times")},null)}class oe{constructor(e,n,t,l){this.viewContainerRef=e,this.editorService=n,this.codeService=t,this.connectionService=l,this.editor=null,this.$$=[],this.scheduled=!1}onWindowResize(){this.scheduled||(this.scheduled=!0,requestAnimationFrame(()=>{this.scheduled=!1,this.editor&&this.editor.layout()}))}ngAfterViewInit(){const e=C.editor.create(this.viewContainerRef.element.nativeElement,{model:this.editorService.model,readOnly:!0});this.editor=e,this.$$.push(this.editorService.fontSize$.subscribe(n=>{e.updateOptions({fontSize:n})}),this.editorService.format$.subscribe(()=>e.getAction("editor.action.formatDocument").run()),this.connectionService.synchronized$.subscribe(n=>{e.updateOptions({readOnly:!n})})),this.codeService.init(this.editor)}ngOnDestroy(){this.editor&&this.editor.dispose(),this.editor=null,this.$$.forEach(e=>e.unsubscribe()),this.$$=[]}}class ie{constructor(e){this.changeDetectorRef=e,this.expand=!1}get type(){return this.value instanceof Error?"error":null===this.value?"null":Array.isArray(this.value)?"array":typeof this.value}toggle(){this.expand=!this.expand,this.changeDetectorRef.markForCheck()}}class re{transform(e){return`${e}`}}var ue=l["\u0275crt"]({encapsulation:3,styles:[['@charset "UTF-8";:host{font-size:14px;margin:0 5px}.boolean,.error,.key,.null,.number,.object,.string,.symbol,.undefined{display:inline-flex}.key{color:#ffba01}.key::after{content:":";display:inline-flex;margin-right:5px}.error{color:#e91224}.number{color:#b5cea8}.string{color:#ce9178}.boolean,.null,.undefined{color:#569cd6}.symbol{color:#3dc9b0}.array,.object{display:flex;flex-direction:column}.array.expand .title::before,.object.expand .title::before{transform:scale(.8) rotate(90deg)}.array app-output-item,.object app-output-item{margin-left:15px}.array .title,.object .title{margin-left:15px;position:relative;color:#3dc9b0;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex}.array .title::before,.object .title::before{content:"\u25ba";display:block;text-align:center;width:20px;height:20px;position:absolute;top:0;left:-20px;font-size:10px;transform:scale(.8);color:silver;text-shadow:0 0 3px silver;bottom:0;margin:auto;line-height:20px;transition:transform .3s}']],data:{}});function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","key"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.key)})}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","error"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,se)),l["\u0275did"](2,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](3,null,[" "," "]))],function(e,n){e(n,2,0,n.component.key)},function(e,n){e(n,3,0,n.component.value.message)})}function ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","key"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.key)})}function de(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"app-output-item",[],null,null,null,Se,ue)),l["\u0275did"](1,49152,null,0,ie,[l.ChangeDetectorRef],{value:[0,"value"],key:[1,"key"]},null),l["\u0275ppd"](2,1)],function(e,n){var t=n.context.$implicit,o=l["\u0275unv"](n,1,1,e(n,2,0,l["\u0275nov"](n.parent.parent.parent,0),n.context.index));e(n,1,0,t,o)},null)}function pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,de)),l["\u0275did"](2,278528,null,0,V.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,2,0,n.component.value)},null)}function ge(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","array"]],[[2,"expand",null]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","title"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toggle()&&l),l},null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ce)),l["\u0275did"](3,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](4,null,[" [","] "])),(e()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](6,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,3,0,t.key),e(n,6,0,t.expand)},function(e,n){var t=n.component;e(n,0,0,t.expand),e(n,4,0,t.value.length)})}function he(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","key"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.key)})}function fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-output-item",[],null,null,null,Se,ue)),l["\u0275did"](1,49152,null,0,ie,[l.ChangeDetectorRef],{value:[0,"value"],key:[1,"key"]},null)],function(e,n){e(n,1,0,n.context.$implicit.value,n.context.$implicit.key)},null)}function me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,fe)),l["\u0275did"](2,278528,null,0,V.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](0,V.KeyValuePipe,[l.KeyValueDiffers]),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform(t.value)))},null)}function ve(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","object"]],[[2,"expand",null]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","title"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toggle()&&l),l},null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,he)),l["\u0275did"](3,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](-1,null,[" Object "])),(e()(),l["\u0275and"](16777216,null,null,1,null,me)),l["\u0275did"](6,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,3,0,t.key),e(n,6,0,t.expand)},function(e,n){e(n,0,0,n.component.expand)})}function be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","key"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.key)})}function ye(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","string"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,be)),l["\u0275did"](2,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](3,null,[' "','" ']))],function(e,n){e(n,2,0,n.component.key)},function(e,n){e(n,3,0,n.component.value)})}function Ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","key"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.key)})}function we(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ce)),l["\u0275did"](2,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](3,null,[" "," "])),l["\u0275ppd"](4,1)],function(e,n){e(n,2,0,n.component.key)},function(e,n){var t=n.component;e(n,0,0,t.type);var o=l["\u0275unv"](n,3,0,e(n,4,0,l["\u0275nov"](n.parent,0),t.value));e(n,3,0,o)})}function Se(e){return l["\u0275vid"](2,[l["\u0275pid"](0,re,[]),(e()(),l["\u0275eld"](1,0,null,null,11,null,null,null,null,null,null,null)),l["\u0275did"](2,16384,null,0,V.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](4,278528,null,0,V.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,V.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ge)),l["\u0275did"](6,278528,null,0,V.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,V.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ve)),l["\u0275did"](8,278528,null,0,V.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,V.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ye)),l["\u0275did"](10,278528,null,0,V.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,V.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,we)),l["\u0275did"](12,16384,null,0,V.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,V.NgSwitch],null,null)],function(e,n){e(n,2,0,n.component.type),e(n,4,0,"error"),e(n,6,0,"array"),e(n,8,0,"object"),e(n,10,0,"string")},null)}var Oe=t("16BW");class Pe{constructor(e){this.executionService=e}get output(){return this.executionService.output}}var xe=l["\u0275crt"]({encapsulation:3,styles:["\n      :host {\n        display: flex;\n        flex-direction: column;\n        overflow-x: hidden;\n        overflow-y: auto;\n        background: #222;\n      }\n\n      .line {\n        border-bottom: 1px solid #000;\n        line-height: 24px;\n        background: #333;\n        margin: 1px 0;\n        border-radius: 5px;\n        padding: 0 5px;\n        display: flex;\n        flex-wrap: wrap;\n      }\n    "],data:{}});function Re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-output-item",[],null,null,null,Se,ue)),l["\u0275did"](1,49152,null,0,ie,[l.ChangeDetectorRef],{value:[0,"value"]},null)],function(e,n){e(n,1,0,n.context.$implicit)},null)}function Ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Re)),l["\u0275did"](2,278528,null,0,V.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,2,0,n.parent.context.$implicit)},null)}function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","line"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ne)),l["\u0275did"](2,212992,null,0,Oe.a,[l.TemplateRef,l.ViewContainerRef,l.Renderer],{mobxAutorun:[0,"mobxAutorun"]},null)],function(e,n){e(n,2,0,null)},null)}function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ke)),l["\u0275did"](2,278528,null,0,V.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,2,0,n.component.output)},null)}function Ee(e){return l["\u0275vid"](2,[(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](1,212992,null,0,Oe.a,[l.TemplateRef,l.ViewContainerRef,l.Renderer],{mobxAutorun:[0,"mobxAutorun"]},null)],function(e,n){e(n,1,0,null)},null)}var Ie=t("A5rM"),_e=t("G5kV"),De=t("NZHa"),$e=t("IL0X"),Le=t("QVyK"),je=t("66nc"),Ae=t("Fa87"),Ue=t("SVXH"),Te=t("7LN8");class Ve{constructor(e){this.connectionService=e,this.pending$=new s.a(!1),this.hasMessage=!!window.notificationMessage,this.username="";const n=new URLSearchParams(location.search).get("roomId");n?(this.roomId=n,this.roomIdReadOnly=!0):(this.roomId="",this.roomIdReadOnly=!1)}get message(){return window.notificationMessage}create(){this.pending$.next(!0),this.connectionService.create(this.username).finally(()=>this.pending$.next(!1))}join(){this.pending$.next(!0),this.connectionService.join(this.roomId,this.username).finally(()=>this.pending$.next(!1))}}var Fe=l["\u0275crt"]({encapsulation:0,styles:[".room-id[_ngcontent-%COMP%], .username[_ngcontent-%COMP%] {\n        margin: 20px;\n      }\n\n      [_nghost-%COMP%]     .ui-message {\n        display: block;\n      }"],data:{}});function Be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-message",[["class","message"],["severity","warn"],["style","display: block"]],null,null,null,De.b,De.a)),l["\u0275did"](1,49152,null,0,$e.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null)],function(e,n){e(n,1,0,"warn",n.component.message)},null)}function ze(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,34,"p-dialog",[],null,null,null,Le.b,Le.a)),l["\u0275did"](1,180224,null,2,je.Dialog,[l.ElementRef,l.Renderer2,l.NgZone],{visible:[0,"visible"],draggable:[1,"draggable"],modal:[2,"modal"],closable:[3,"closable"]},null),l["\u0275qud"](603979776,1,{headerFacet:1}),l["\u0275qud"](603979776,2,{footerFacet:1}),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,1,1,null,Be)),l["\u0275did"](6,16384,null,0,V.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](7,0,null,1,9,"div",[["class","ui-float-label username"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,6,"input",[["autocomplete","off"],["id","username"],["pInputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var o=!0,i=e.component;return"input"===n&&(o=!1!==l["\u0275nov"](e,9)._handleInput(t.target.value)&&o),"blur"===n&&(o=!1!==l["\u0275nov"](e,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==l["\u0275nov"](e,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==l["\u0275nov"](e,9)._compositionEnd(t.target.value)&&o),"input"===n&&(o=!1!==l["\u0275nov"](e,14).onInput(t)&&o),"ngModelChange"===n&&(o=!1!==(i.username=t)&&o),o},null,null)),l["\u0275did"](9,16384,null,0,T.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,T.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[T.DefaultValueAccessor]),l["\u0275did"](11,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](13,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null),l["\u0275did"](14,278528,null,0,Ae.InputText,[l.ElementRef,[2,T.NgModel]],null,null),(e()(),l["\u0275eld"](15,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Name"])),(e()(),l["\u0275eld"](17,0,null,1,9,"div",[["class","ui-float-label room-id"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,6,"input",[["id","room-id"],["pInputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var o=!0,i=e.component;return"input"===n&&(o=!1!==l["\u0275nov"](e,19)._handleInput(t.target.value)&&o),"blur"===n&&(o=!1!==l["\u0275nov"](e,19).onTouched()&&o),"compositionstart"===n&&(o=!1!==l["\u0275nov"](e,19)._compositionStart()&&o),"compositionend"===n&&(o=!1!==l["\u0275nov"](e,19)._compositionEnd(t.target.value)&&o),"input"===n&&(o=!1!==l["\u0275nov"](e,24).onInput(t)&&o),"ngModelChange"===n&&(o=!1!==(i.roomId=t)&&o),o},null,null)),l["\u0275did"](19,16384,null,0,T.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,T.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,T.NG_VALUE_ACCESSOR,function(e){return[e]},[T.DefaultValueAccessor]),l["\u0275did"](21,671744,null,0,T.NgModel,[[8,null],[8,null],[8,null],[6,T.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,T.NgControl,null,[T.NgModel]),l["\u0275did"](23,16384,null,0,T.NgControlStatus,[[4,T.NgControl]],null,null),l["\u0275did"](24,278528,null,0,Ae.InputText,[l.ElementRef,[2,T.NgModel]],null,null),(e()(),l["\u0275eld"](25,0,null,null,1,"label",[["for","room-id"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Room ID"])),(e()(),l["\u0275eld"](27,0,null,2,7,"p-footer",[],null,null,null,Ue.b,Ue.a)),l["\u0275did"](28,49152,[[2,4]],0,Te.Footer,[],null,null),(e()(),l["\u0275eld"](29,0,null,0,2,"button",[["class","ui-button-secondary"],["label","Create"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.create()&&l),l},null,null)),l["\u0275did"](30,4341760,null,0,H.ButtonDirective,[l.ElementRef],{label:[0,"label"]},null),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](32,0,null,0,2,"button",[["label","Join"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.join()&&l),l},null,null)),l["\u0275did"](33,4341760,null,0,H.ButtonDirective,[l.ElementRef],{label:[0,"label"]},null),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,l["\u0275unv"](n,1,0,l["\u0275nov"](n,4).transform(t.visible$)),!1,!0,!1),e(n,6,0,t.hasMessage),e(n,11,0,t.username),e(n,14,0),e(n,21,0,t.roomIdReadOnly,t.roomId),e(n,24,0),e(n,30,0,"Create"),e(n,33,0,"Join")},function(e,n){var t=n.component;e(n,8,1,[l["\u0275nov"](n,13).ngClassUntouched,l["\u0275nov"](n,13).ngClassTouched,l["\u0275nov"](n,13).ngClassPristine,l["\u0275nov"](n,13).ngClassDirty,l["\u0275nov"](n,13).ngClassValid,l["\u0275nov"](n,13).ngClassInvalid,l["\u0275nov"](n,13).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,14).filled]),e(n,18,1,[l["\u0275nov"](n,23).ngClassUntouched,l["\u0275nov"](n,23).ngClassTouched,l["\u0275nov"](n,23).ngClassPristine,l["\u0275nov"](n,23).ngClassDirty,l["\u0275nov"](n,23).ngClassValid,l["\u0275nov"](n,23).ngClassInvalid,l["\u0275nov"](n,23).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,24).filled]),e(n,29,0,!t.username||l["\u0275unv"](n,29,0,l["\u0275nov"](n,31).transform(t.pending$))),e(n,32,0,!t.username||l["\u0275unv"](n,32,0,l["\u0275nov"](n,34).transform(t.pending$)))})}var Je=t("ugLD"),Ge=t("Znf8"),qe=t("Ge8E"),Ze=t("EjV3"),He=l["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{overflow:hidden;display:grid;grid-template:"header header" 60px "editor output" minmax(0,1fr);grid-template-columns:minmax(0,1fr) 38.2%}app-header[_ngcontent-%COMP%]{grid-area:header;box-shadow:0 2px 5px 0 rgba(0,0,0,.3)}[monaco-editor-container][_ngcontent-%COMP%]{grid-area:editor}app-join[_ngcontent-%COMP%], p-blockUI[_ngcontent-%COMP%]{position:absolute}p-toast[_ngcontent-%COMP%]{margin-top:80px;position:fixed;z-index:2000}.ui-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}app-output[_ngcontent-%COMP%]{grid-area:output}']],data:{}});function Ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-header",[],null,null,null,le,te)),l["\u0275did"](1,49152,null,0,ne,[O,ee.a,D],null,null),(e()(),l["\u0275eld"](2,16777216,null,null,1,"div",[["monaco-editor-container",""]],null,[["window","resize"]],function(e,n,t){var o=!0;return"window:resize"===n&&(o=!1!==l["\u0275nov"](e,3).onWindowResize()&&o),o},null,null)),l["\u0275did"](3,4341760,null,0,oe,[l.ViewContainerRef,O,D,y],null,null),(e()(),l["\u0275eld"](4,0,null,null,1,"app-output",[],null,null,null,Ee,xe)),l["\u0275did"](5,49152,null,0,Pe,[ee.a],null,null),(e()(),l["\u0275eld"](6,0,null,null,2,"p-toast",[],null,null,null,Ie.b,Ie.a)),l["\u0275did"](7,1294336,null,1,_e.Toast,[a.MessageService],null,null),l["\u0275qud"](603979776,1,{templates:1}),(e()(),l["\u0275eld"](9,0,null,null,1,"app-join",[],null,null,null,ze,Fe)),l["\u0275did"](10,49152,null,0,Ve,[y],{visible$:[0,"visible$"]},null),(e()(),l["\u0275eld"](11,0,null,null,4,"p-blockUI",[],null,null,null,Je.b,Je.a)),l["\u0275did"](12,4374528,null,0,Ge.BlockUI,[l.ElementRef],{blocked:[0,"blocked"]},null),l["\u0275pid"](131072,V.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](14,0,null,0,1,"p-progressSpinner",[["class","global-spinner"]],null,null,null,qe.b,qe.a)),l["\u0275did"](15,49152,null,0,Ze.ProgressSpinner,[],null,null)],function(e,n){var t=n.component;e(n,7,0),e(n,10,0,t.joinVisible$),e(n,12,0,l["\u0275unv"](n,12,0,l["\u0275nov"](n,13).transform(t.blockUI$)))},null)}function We(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-root",[],null,[["window","beforeunload"],["window","keydown"]],function(e,n,t){var o=!0;return"window:beforeunload"===n&&(o=!1!==l["\u0275nov"](e,1).autoSave(t)&&o),"window:keydown"===n&&(o=!1!==l["\u0275nov"](e,1).onKeyDown(t)&&o),o},Ke,He)),l["\u0275did"](1,49152,null,0,$,[y,D],null,null)],null,null)}var Qe=l["\u0275ccf"]("app-root",$,We,{},{},[]),Xe=t("cUpR"),Ye=t("fDlF"),en=t("omvX"),nn=t("GS7A"),tn=t("IP0z"),ln=t("/HVE"),on=t("hOhj"),rn=t("F+oH"),un=l["\u0275cmf"](o,[$],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[Qe]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](5120,l.LOCALE_ID,l["\u0275angular_packages_core_core_q"],[[3,l.LOCALE_ID]]),l["\u0275mpd"](4608,V.NgLocalization,V.NgLocaleLocalization,[l.LOCALE_ID,[2,V["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](5120,l["\u0275angular_packages_core_core_bb"],l["\u0275angular_packages_core_core_s"],[l.NgZone]),l["\u0275mpd"](4608,l.Compiler,l.Compiler,[]),l["\u0275mpd"](5120,l.APP_ID,l["\u0275angular_packages_core_core_f"],[]),l["\u0275mpd"](5120,l.IterableDiffers,l["\u0275angular_packages_core_core_o"],[]),l["\u0275mpd"](5120,l.KeyValueDiffers,l["\u0275angular_packages_core_core_p"],[]),l["\u0275mpd"](4608,Xe.b,Xe.k,[V.DOCUMENT]),l["\u0275mpd"](6144,l.Sanitizer,null,[Xe.b]),l["\u0275mpd"](4608,Xe.e,Xe.g,[]),l["\u0275mpd"](5120,Xe.c,function(e,n,t,l,o,i,r,u){return[new Xe.i(e,n,t),new Xe.n(l),new Xe.m(o,i,r,u)]},[V.DOCUMENT,l.NgZone,l.PLATFORM_ID,V.DOCUMENT,V.DOCUMENT,Xe.e,l["\u0275Console"],[2,Xe.f]]),l["\u0275mpd"](4608,Xe.d,Xe.d,[Xe.c,l.NgZone]),l["\u0275mpd"](135680,Xe.l,Xe.l,[V.DOCUMENT]),l["\u0275mpd"](4608,Xe.j,Xe.j,[Xe.d,Xe.l,l.APP_ID]),l["\u0275mpd"](5120,Ye.a,en.e,[]),l["\u0275mpd"](5120,Ye.c,en.f,[]),l["\u0275mpd"](4608,Ye.b,en.d,[V.DOCUMENT,Ye.a,Ye.c]),l["\u0275mpd"](5120,l.RendererFactory2,en.g,[Xe.j,Ye.b,l.NgZone]),l["\u0275mpd"](6144,Xe.o,null,[Xe.l]),l["\u0275mpd"](4608,l.Testability,l.Testability,[l.NgZone]),l["\u0275mpd"](4608,nn.AnimationBuilder,en.c,[l.RendererFactory2,V.DOCUMENT]),l["\u0275mpd"](4608,T["\u0275angular_packages_forms_forms_o"],T["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](135680,O,O,[]),l["\u0275mpd"](4608,a.MessageService,a.MessageService,[]),l["\u0275mpd"](4608,y,y,[a.MessageService]),l["\u0275mpd"](4608,D,D,[O,y,a.MessageService]),l["\u0275mpd"](4608,ee.a,ee.a,[a.MessageService]),l["\u0275mpd"](1073742336,V.CommonModule,V.CommonModule,[]),l["\u0275mpd"](1024,l.ErrorHandler,Xe.p,[]),l["\u0275mpd"](1024,l.APP_INITIALIZER,function(e){return[Xe.q(e)]},[[2,l.NgProbeToken]]),l["\u0275mpd"](512,l.ApplicationInitStatus,l.ApplicationInitStatus,[[2,l.APP_INITIALIZER]]),l["\u0275mpd"](131584,l.ApplicationRef,l.ApplicationRef,[l.NgZone,l["\u0275Console"],l.Injector,l.ErrorHandler,l.ComponentFactoryResolver,l.ApplicationInitStatus]),l["\u0275mpd"](1073742336,l.ApplicationModule,l.ApplicationModule,[l.ApplicationRef]),l["\u0275mpd"](1073742336,Xe.a,Xe.a,[[3,Xe.a]]),l["\u0275mpd"](1073742336,en.b,en.b,[]),l["\u0275mpd"](1073742336,T["\u0275angular_packages_forms_forms_d"],T["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,T.FormsModule,T.FormsModule,[]),l["\u0275mpd"](1073742336,H.ButtonModule,H.ButtonModule,[]),l["\u0275mpd"](1073742336,Te.SharedModule,Te.SharedModule,[]),l["\u0275mpd"](1073742336,tn.a,tn.a,[]),l["\u0275mpd"](1073742336,ln.b,ln.b,[]),l["\u0275mpd"](1073742336,on.ScrollingModule,on.ScrollingModule,[]),l["\u0275mpd"](1073742336,U.DropdownModule,U.DropdownModule,[]),l["\u0275mpd"](1073742336,j.OverlayPanelModule,j.OverlayPanelModule,[]),l["\u0275mpd"](1073742336,je.DialogModule,je.DialogModule,[]),l["\u0275mpd"](1073742336,Ae.InputTextModule,Ae.InputTextModule,[]),l["\u0275mpd"](1073742336,_e.ToastModule,_e.ToastModule,[]),l["\u0275mpd"](1073742336,Ze.ProgressSpinnerModule,Ze.ProgressSpinnerModule,[]),l["\u0275mpd"](1073742336,Ge.BlockUIModule,Ge.BlockUIModule,[]),l["\u0275mpd"](1073742336,rn.a,rn.a,[]),l["\u0275mpd"](1073742336,B.RadioButtonModule,B.RadioButtonModule,[]),l["\u0275mpd"](1073742336,$e.MessageModule,$e.MessageModule,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](256,l["\u0275APP_ROOT"],!0,[]),l["\u0275mpd"](256,en.a,"BrowserAnimations",[])])});Object(l.enableProdMode)(),Xe.h().bootstrapModuleFactory(un).catch(e=>console.error(e))},d86r:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return r});var l=t("mrSG"),o=t("2vnA");function i(e){switch(e.type){case"error":return new Error(e.message);case"symbol":return e.text;case"json":return JSON.parse(e.value);case"function":case"raw":case"text":return e.value}}const r=(()=>{class n{constructor(e){this.messageService=e,this.worker=null,this.output=[],this.workerEventListener=(({data:e})=>{switch(e.type){case"stdout":this.output.push(e.data.map(i));break;case"stderr":this.output.push(e.data.map(e=>new Error(e)))}})}async exec(n,t){switch(n){case"javascript":this.terminate(),this.worker=new Worker(e,{}),this.worker.addEventListener("message",this.workerEventListener),this.worker.postMessage({type:"exec",code:t});break;default:this.messageService.add({severity:"error",summary:"Not supported",detail:`Execution of ${n} is not supported yet.`})}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}return l.__decorate([o.d,l.__metadata("design:type",Array)],n.prototype,"output",void 0),n})()}).call(this,t("n3GE"))},n3GE:function(e,n,t){e.exports=t.p+"0.2a965dc1bae8b3182a12.worker.js"},yLpj:function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(l){"object"==typeof window&&(t=window)}e.exports=t},zn8P:function(e,n){function t(e){return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n})}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id="zn8P"}},[[0,0,65]]]);